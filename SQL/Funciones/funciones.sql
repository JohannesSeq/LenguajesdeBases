----- Eliminar Platillo -----

CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_PLATILLO (
    P_ID_PLATILLO IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('PLATILLOS', P_ID_PLATILLO, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_PLATILLO(P_ID_PLATILLO);
        RETURN 'BORRADO_FISICO';
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

------------ ---------------------- ELIMINAR MENU ------------------------------

CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_MENU (
    P_ID_MENU IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('MENU', P_ID_MENU, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_MENU(P_ID_MENU);
        RETURN 'BORRADO_FISICO';
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/


------------ ---------------------- ELIMINAR HORARIO ------------------------------

CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_HORARIO (
    P_ID_HORARIO IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('HORARIOS_MESA', P_ID_HORARIO, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_HORARIO(P_ID_HORARIO, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/


---------------- ELIMINAR MESA ------------------

CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_MESA (
    P_ID_MESA IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('MESAS', P_ID_MESA, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_MESA(P_ID_MESA, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

---------------- ELIMINAR PEDIDO ------------------

CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_PEDIDO (
    P_ID_PEDIDO IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('PEDIDOS', P_ID_PEDIDO, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_PEDIDO(P_ID_PEDIDO, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

---------------- ELIMINAR METODO DE PAGO ------------------

CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_METODO_PAGO (
    P_ID_METODO IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('METODO_PAGO', P_ID_METODO, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_METODO_PAGO(P_ID_METODO, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

---------------- ELIMINAR FACTURA ------------------

CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_FACTURA (
    P_ID_FACTURA IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('FACTURAS', P_ID_FACTURA, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_FACTURA(P_ID_FACTURA, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

---------------- ELIMINAR RESERVACION ------------------

CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_RESERVACION (
    P_ID_RESERVA IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('RESERVACIONES', P_ID_RESERVA, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_RESERVACION(P_ID_RESERVA, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

-------------- Eliminar Distrito -------------------------

CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_DISTRITO (
    P_ID_DISTRITO IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('DISTRITO', P_ID_DISTRITO, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_DISTRITO(P_ID_DISTRITO, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

-------------- Eliminar Canton -------------------------
CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_CANTON(
    P_ID_CANTON IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('CANTON', P_ID_CANTON, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_CANTON(P_ID_CANTON, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

-------------- Eliminar Provincia -------------------------
CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_PROVINCIA(
    P_ID_PROVINCIA IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('PROVINCIA', P_ID_PROVINCIA, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_PROVINCIA(P_ID_PROVINCIA, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

-------------- Eliminar rol -------------------------
CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_ROL_PERSONA(
    P_ID_ROL_PERSONA IN VARCHAR,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('ROL_PERSONA', P_ID_ROL_PERSONA, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_ROL_PERSONA(P_ID_ROL_PERSONA, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

-------------- Eliminar persona  -------------------------
CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_PERSONA(
    
    P_CEDULA IN VARCHAR,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR

) RETURN VARCHAR
AS
    
    V_RESULTADO VARCHAR(50);
    V_CORREO VARCHAR(100);
    V_ID_DIRECCION_PERSONA VARCHAR(100);
    V_ID_PASSWORD_ID VARCHAR(100);


BEGIN

    --Obenemos el valor de la cedula
    SELECT DIRECCION_DE_CORREO, ID_DIRECCION, PASSWORD_ID  
    INTO V_CORREO, V_ID_DIRECCION_PERSONA, V_ID_PASSWORD_ID
    FROM PERSONAS
    WHERE CEDULA = P_CEDULA;

    IF LOWER(P_TIPO) = 'logico' THEN

        BORRADO_LOGICO('PERSONAS', P_CEDULA, P_COMENTARIO);
        BORRADO_LOGICO('CORREOS', V_CORREO, P_COMENTARIO);
        BORRADO_LOGICO('DIRECCIONES_PERSONAS', V_ID_DIRECCION_PERSONA, P_COMENTARIO);
        BORRADO_LOGICO('ENCRIPCION_PASSWORDS', V_ID_PASSWORD_ID, P_COMENTARIO);

        RETURN 'BORRADO_LOGICO';

    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_PERSONA(P_CEDULA, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

-------------- Eliminar Puesto -------------------------
CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_PUESTO(
    P_ID_PUESTO IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('PUESTO', P_ID_PUESTO, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_PUESTO(P_ID_PUESTO, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

-------------- Eliminar DEPARTAMENTO -------------------------
CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_DEPARTAMENTO(
    P_ID_DEPARTAMENTO IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('DEPARTAMENTO', P_ID_DEPARTAMENTO, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_DEPARTAMENTO(P_ID_DEPARTAMENTO, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

-------------- Eliminar EMPLEADO -------------------------
CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_EMPLEADO(
    P_ID_EMPLEADO IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('EMPLEADO', P_ID_EMPLEADO, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_EMPLEADO(P_ID_EMPLEADO, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/

-------------------- Eliminar platillo menu ------------------

CREATE OR REPLACE FUNCTION EJECUTAR_BORRADO_PLATILLO_MENU (
    P_ID_PLATILLOS_MENU IN NUMBER,
    P_TIPO IN VARCHAR,
    P_COMENTARIO IN VARCHAR
) RETURN VARCHAR
AS
    V_RESULTADO VARCHAR(50);
BEGIN
    IF LOWER(P_TIPO) = 'logico' THEN
        BORRADO_LOGICO('PLATILLOS_MENU', P_ID_PLATILLOS_MENU, P_COMENTARIO);
        RETURN 'BORRADO_LOGICO';
    ELSIF LOWER(P_TIPO) = 'fisico' THEN
        ELIMINAR_PLATILLO_MENU(P_ID_PLATILLOS_MENU, V_RESULTADO);
        RETURN V_RESULTADO;
    ELSE
        RETURN 'TIPO_INVALIDO';
    END IF;
END;
/