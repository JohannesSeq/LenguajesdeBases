1dd7e6ac-ce38-4b85-bb86-629630a2af5e:1745020445057:6:S:SELECT * FROM HORARIOS_MESA;
4686bd71-0c4f-41bc-83c0-ce9840e81b5d:1745021015321:0:F:CREATE OR REPLACE VIEW VISTA_HORARIOS AS\nSELECT \n    H.ID_HORARIO, \n    H.NOMBRE_PLATILLO, \n    H.PRECIO_UNITARIO, \n    H.CANTIDAD,\n    E.ESTADO\nFROM HORARIOS_MESA H\nJOIN ESTADOS E ON E.ID_ESTADO = P.ID_ESTADO\nWHERE E.ESTADO = 'Activo';
2c644e5b-dbd9-46e1-ada7-6c883a12820d:1745021086586:0:F:CREATE OR REPLACE VIEW VISTA_HORARIOS AS\nSELECT \n    H.ID_HORARIO, \n    H.NOMBRE_PLATILLO, \n    H.PRECIO_UNITARIO, \n    H.CANTIDAD,\n    E.ESTADO\nFROM HORARIOS_MESA H\nJOIN ESTADOS E ON E.ID_ESTADO = H.ID_ESTADO\nWHERE E.ESTADO = 'Activo';
6aab397c-af86-4025-8058-439fe0c9e198:1745021140513:27:S:CREATE OR REPLACE VIEW VISTA_HORARIOS AS\nSELECT \n    H.ID_HORARIO, \n    H.DISPONIBILIDAD, \n    H.HORA_EXACTA, \n    E.ESTADO\nFROM HORARIOS_MESA H\nJOIN ESTADOS E ON E.ID_ESTADO = H.ID_ESTADO\nWHERE E.ESTADO = 'Activo';
325af141-6c5c-4113-9638-a5ffd970730d:1745021146055:9:S:SELECT * FROM VISTA_HORARIOS;
0c646d79-38da-422c-b0d6-3b777d77d90e:1745021613447:0:F:VISTA_HORARIOS(:H.ID_HORARIO, :H.DISPONIBILIDAD, :H.HORA_EXACTA, :E.ESTADO);
ccdf6dd8-1cbd-4169-aa18-c26b1e2094f1:1745026380471:0:F:BEGIN\n    ACTUALIZAR_HORARIO_MESA(\n        P_ID_HORARIO    => 123,  -- Reemplaza con un ID de horario válido\n        P_DISPONIBILIDAD => 'Disponible',\n        P_HORA_EXACTA    => TO_DATE('2025-04-18 14:00:00', 'YYYY-MM-DD HH24:MI:SS'),\n        P_COMENTARIO     => 'Actualización de disponibilidad'\n    );\nEND;\n/
f415e7ce-3bee-4c90-ba7b-d1602f652216:1745026418272:0:F:REATE OR REPLACE PROCEDURE ACTUALIZAR_HORARIO_MESA (
4ebbc780-07f3-438c-ab1d-3c9f49865067:1745026418314:0:F:P_ID_HORARIO    NUMBER,
5488bdf8-a49c-466b-869a-fc1cab9578e1:1745026418351:0:F:P_DISPONIBILIDAD VARCHAR,
068e6327-2d83-4db3-881a-12d32d0b96e8:1745026418391:0:F:P_HORA_EXACTA    DATE,
44d03b01-c541-4ae5-bb55-9c84eb64b48d:1745026418427:0:F:P_COMENTARIO     VARCHAR
35d31e7f-7d1c-4160-b504-a7b68b53c84d:1745026418460:0:F:)
f246aecc-4958-43d5-bd89-7b056bb127dd:1745026418491:0:F:AS
a3493c3b-453c-4dfe-a037-fe0027f5a6b3:1745026418526:0:F:V_ESTADO_ID VARCHAR2(250);
18ce07d3-4de2-4340-9df8-c0595e08ce4b:1745026682758:0:F:ALTER INDEX TU_ESQUEMA.NOMBRE_INDICE REBUILD;
b7be9d34-9215-49aa-a16f-7a7b93e05bb9:1745026692423:0:F:ALTER INDEX TU_ESQUEMA.NOMBRE_INDICE REBUILD ONLINE;
d6ebec45-0858-4933-a3d8-1c032bce3d5c:1745026730106:46:S:ALTER INDEX PLAYACACAODB.SYS_C008458 REBUILD;
55c6c843-fc88-4300-9b17-14128264a072:1745027396595:0:F:BEGIN\n    ACTUALIZAR_HORARIO_MESA(\n        P_ID_HORARIO    => 123,  -- Reemplaza con un ID de horario válido\n        P_DISPONIBILIDAD => 'Disponible',\n        P_HORA_EXACTA    => TO_DATE('2025-04-18 14:00:00', 'YYYY-MM-DD HH24:MI:SS'),\n        P_COMENTARIO     => 'Actualización de disponibilidad'\n    );\nEND;\n/
c2bd1824-3c25-48ca-a741-5267375c8ec7:1745032326663:73:F:CREATE OR REPLACE PROCEDURE ACTUALIZAR_HORARIO_MESA (\n    P_ID_HORARIO    NUMBER,\n    P_DISPONIBILIDAD VARCHAR,\n    P_HORA_EXACTA    DATE,\n    P_COMENTARIO     VARCHAR\n)\nAS\n    V_ESTADO_ID VARCHAR2(250);\nBEGIN\n    -- Actualizar los datos del horario\n    UPDATE HORARIOS_MESA\n    SET DISPONIBILIDAD = P_DISPONIBILIDAD,\n        HORA_EXACTA = P_HORA_EXACTA\n    WHERE ID_HORARIO = P_ID_HORARIO;\n\n    V_ESTADO_ID := CREAR_ENTRADA_ESTADO(TO_CHAR(P_ID_HORARIO), 'HORARIOS_MESA', P_COMENTARIO);\n\n    UPDATE HORARIOS_MESA\n    SET ID_ESTADO = V_ESTADO_ID\n    WHERE ID_HORARIO = P_ID_HORARIO;\n\n    COMMIT;\n\nEND ACTUALIZAR_HORARIO_MESA;\n\nBEGIN\n    ACTUALIZAR_HORARIO_MESA(\n        P_ID_HORARIO    => 1,  -- Reemplaza con un ID de horario válido\n        P_DISPONIBILIDAD => 'Disponible',\n        P_HORA_EXACTA    => TO_DATE('2025-04-18 14:00:00', 'YYYY-MM-DD HH24:MI:SS'),\n        P_COMENTARIO     => 'Actualización de disponibilidad'\n    );\nEND;\n/
9fb531b3-4e73-4795-8b93-47d77b921a2c:1745032357858:0:F:EXEC ACTUALIZAR_HORARIO_MESA(
87621f3d-0eed-460f-9f1a-3bc32a68c8d8:1745032357969:0:S:1,
538afb18-8dcd-4afb-9017-07574e206577:1745032358010:0:F:'Disponible',
46b999e3-1835-43a4-9cee-3833ff801efc:1745032358062:0:F:TO_DATE('2025-04-18 14:30:00', 'YYYY-MM-DD HH24:MI:SS'),
9478dd07-b1f1-43e7-be93-bda46fbd0165:1745032358105:0:F:'Horario actualizado correctamente'
afccee66-3f5a-43b3-8fee-7d0f4675ba10:1745032358137:0:F:);
c1212b3d-5c61-4109-ba71-f8aee8d55144:1745032456562:0:F:BEGIN\n  ACTUALIZAR_HORARIO_MESA(\n    1,\n    'Disponible',\n    TO_DATE('2025-04-18 14:30:00', 'YYYY-MM-DD HH24:MI:SS'),\n    'Horario actualizado correctamente'\n  );\nEND;\n/
ea16d51d-1bd9-469e-ab4b-cd46b6248f3b:1745032632988:11:F:CREATE OR REPLACE FUNCTION CREAR_ENTRADA_ESTADO(\n    P_ID_ENTRADA VARCHAR, P_TABLA VARCHAR, P_COMENTARIO VARCHAR\n    ) RETURN VARCHAR\nAS\n\n    V_ESTADO_ID VARCHAR(250); --Variable para almacenar el ID Del estado\n\nBEGIN\n\n    --Creacion del valor para el ID de la entrada\n    V_ESTADO_ID := 'ST_' || TO_CHAR(P_ID_ENTRADA) || '_' || P_TABLA;\n    \n    --Creacion del estado que lleva el control de la entrada\n    INSERT INTO ESTADOS(ID_ESTADO, TABLA_ENTRADA, COMENTARIO, FECHA_CAMBIO, ESTADO) \n    VALUES (V_ESTADO_ID, P_TABLA, P_COMENTARIO, CURRENT_DATE, 'Activo');\n    COMMIT;\n    RETURN V_ESTADO_ID;\nEND;\n/
52eaaa54-3051-4f78-b0fe-be0c2f185233:1745032933583:109:F:CREATE OR REPLACE PROCEDURE ACTUALIZAR_HORARIO_MESA (\n    P_ID_HORARIO    NUMBER,\n    P_DISPONIBILIDAD VARCHAR,\n    P_HORA_EXACTA    DATE,\n    P_COMENTARIO     VARCHAR\n)\nAS\n    V_ESTADO_ID VARCHAR2(250);\nBEGIN\n    -- Actualizar los datos del horario\n    UPDATE HORARIOS_MESA\n    SET DISPONIBILIDAD = P_DISPONIBILIDAD,\n        HORA_EXACTA = P_HORA_EXACTA\n    WHERE ID_HORARIO = P_ID_HORARIO;\n\n    V_ESTADO_ID := CREAR_ENTRADA_ESTADO(TO_CHAR(P_ID_HORARIO), 'HORARIOS_MESA', P_COMENTARIO);\n\n    UPDATE HORARIOS_MESA\n    SET ID_ESTADO = V_ESTADO_ID\n    WHERE ID_HORARIO = P_ID_HORARIO;\n\n    COMMIT;\n\nEND ACTUALIZAR_HORARIO_MESA;\n/
c95642ea-6864-4d8b-9772-e84f77412ac0:1745032944447:0:F:BEGIN\n  ACTUALIZAR_HORARIO_MESA(\n    1,\n    'Disponible',\n    TO_DATE('2025-04-18 14:30:00', 'YYYY-MM-DD HH24:MI:SS'),\n    'Horario actualizado correctamente'\n  );\nEND;\n/
0a9dd7f4-5543-4ea4-b229-8fda5248c184:1745032999215:0:F:BEGIN\n    ACTUALIZAR_HORARIO_MESA(\n        P_ID_HORARIO    => 23,  -- Reemplaza con un ID de horario válido\n        P_DISPONIBILIDAD => 'Disponible',\n        P_HORA_EXACTA    => TO_DATE('2025-04-18 14:00:00', 'YYYY-MM-DD HH24:MI:SS'),\n        P_COMENTARIO     => 'Actualización de disponibilidad'\n    );\nEND;\n/
c1536aa0-40aa-4508-b8ca-62bd03ecab7c:1745033167155:6:F:BEGIN\n    ACTUALIZAR_HORARIO_MESA(\n        P_ID_HORARIO    => 30,  -- Reemplaza con un ID de horario válido\n        P_DISPONIBILIDAD => 'Disponible',\n        P_HORA_EXACTA    => TO_DATE('2025-04-18 14:00:00', 'YYYY-MM-DD HH24:MI:SS'),\n        P_COMENTARIO     => 'Actualización de disponibilidad'\n    );\nEND;\n/
10802a06-845d-480b-93db-70b36b369909:1745033210004:0:F:BEGIN\n    ACTUALIZAR_HORARIO_MESA(\n        P_ID_HORARIO    => 30,  -- Reemplaza con un ID de horario válido\n        P_DISPONIBILIDAD => 'Disponible',\n        P_HORA_EXACTA    => TO_DATE('2025-04-18 14:00:00', 'YYYY-MM-DD HH24:MI:SS'),\n        P_COMENTARIO     => 'Actualización de disponibilidad'\n    );\nEND;\n/
6720e312-a0f4-4219-afe5-eaaa443e1e0b:1745033331606:0:F:BEGIN\n    ACTUALIZAR_HORARIO_MESA(\n        P_ID_HORARIO    => 23,  -- Reemplaza con un ID de horario válido\n        P_DISPONIBILIDAD => 'Disponible',\n        P_HORA_EXACTA    => TO_DATE('2025-04-18 14:00:00', 'YYYY-MM-DD HH24:MI:SS'),\n        P_COMENTARIO     => 'Actualización de disponibilidad'\n    );\nEND;\n/
699936d7-d3bc-46b6-96b9-7efed31645df:1745033389262:29:F:CREATE OR REPLACE PROCEDURE ACTUALIZAR_RESERVACION(\n    P_ID_RESERVA NUMBER,\n    P_NUEVA_CONFIRMACION VARCHAR,\n    P_COMENTARIO VARCHAR\n)\nAS\n    V_ESTADO_ID VARCHAR2(250);\nBEGIN\n    -- Actualizar el campo de confirmación\n    UPDATE RESERVACIONES\n    SET CONFIRMACION = P_NUEVA_CONFIRMACION\n    WHERE ID_RESERVA = P_ID_RESERVA;\n\n    -- Crear nuevo estado para el historial\n    V_ESTADO_ID := CREAR_ENTRADA_ESTADO(TO_CHAR(P_ID_RESERVA), 'RESERVACIONES', P_COMENTARIO);\n\n    -- Asociar el nuevo estado a la reserva\n    UPDATE RESERVACIONES\n    SET ID_ESTADO = V_ESTADO_ID\n    WHERE ID_RESERVA = P_ID_RESERVA;\n\n    COMMIT;\nEND;\n/
0537e00d-d7f9-4d3d-b001-e673272d916e:1745033400086:6:F:BEGIN\n    ACTUALIZAR_RESERVACION(\n        P_ID_RESERVA => 1,  -- Cambiá por un ID válido\n        P_NUEVA_CONFIRMACION => 'Confirmado',\n        P_COMENTARIO => 'Reserva actualizada por cliente'\n    );\nEND;\n/
361f376a-2974-41a1-8585-c11359ea6dee:1745033437272:8:F:Select * from VISTA_HORARIOS;
5ed6c3d1-a250-4b1e-bdd2-710dd0f3070b:1745033849186:16:F:CREATE OR REPLACE PROCEDURE ACTUALIZAR_HORARIO_MESA (\n    P_ID_HORARIO    NUMBER,\n    P_DISPONIBILIDAD VARCHAR,\n    P_HORA_EXACTA    DATE\n)\nAS\nBEGIN\n    -- Actualizar los datos del horario SIN modificar el estado\n    UPDATE HORARIOS_MESA\n    SET DISPONIBILIDAD = P_DISPONIBILIDAD,\n        HORA_EXACTA = P_HORA_EXACTA\n    WHERE ID_HORARIO = P_ID_HORARIO;\n\n    COMMIT;\nEND;\n/
12983ab7-7927-4b21-8acd-f87777a9143a:1745033904750:4:F:BEGIN\n    ACTUALIZAR_HORARIO_MESA(\n        P_ID_HORARIO     => 1,  -- Reemplazar por un ID real\n        P_DISPONIBILIDAD => 'Ocupado',\n        P_HORA_EXACTA    => TO_DATE('2025-04-20 19:00:00', 'YYYY-MM-DD HH24:MI:SS')\n    );\nEND;\n/
6944e962-decf-4c4a-9fc4-61f0d9d816de:1745033904884:8:F:SELECT * FROM HORARIOS_MESA WHERE ID_HORARIO = 1;
56c2262d-63a8-49e6-9be7-12982a1803fb:1745033938857:5:F:SELECT * FROM VISTA_HORARIOS;
